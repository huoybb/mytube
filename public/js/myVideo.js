// Generated by CoffeeScript 1.9.1
(function() {
  var video;

  videojs.options.flash.swf = "/videojs/video-js.swf";

  video = videojs("my-video");

  video.on('play', function() {
    return this.status = 'play';
  });

  video.on('pause', function() {
    return this.status = 'pause';
  });

  video.ready(function() {
    var url;
    url = location.href + '/getPlaytime';
    return $.getJSON(url, (function(_this) {
      return function(playtime) {
        _this.currentTime(playtime);
        return _this.setInterval(function() {
          var data;
          url = location.href + '/updatePlayTime';
          data = {
            'playtime': _this.currentTime(),
            'duration': _this.duration()
          };
          if (_this.status === 'play') {
            return $.post(url, data);
          }
        }, 5000);
      };
    })(this));
  });

}).call(this);

//# sourceMappingURL=myVideo.js.map
